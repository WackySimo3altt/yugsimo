<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Tower Defense Game</title><style>body{margin:0;font-family:Arial,sans-serif}canvas{display:block}#health-bar{position:absolute;top:20px;left:20px;width:200px;height:20px;background-color:#555;border-radius:10px;overflow:hidden}#health{height:100%;background-color:#ff4444;width:100%;transition:width 0.3s}#start-button{position:absolute;top:60px;left:20px;padding:10px 20px;font-size:16px;background-color:#4CAF50;color:white;border:none;border-radius:5px;cursor:pointer}#level-display{position:absolute;top:100px;left:20px;font-size:20px;color:white}#gold-display{position:absolute;top:140px;left:20px;font-size:20px;color:white}#upgrade-buttons{position:absolute;top:180px;left:20px;display:flex;flex-direction:column;gap:10px}#upgrade-buttons button{padding:10px 20px;font-size:16px;background-color:#4CAF50;color:white;border:none;border-radius:5px;cursor:pointer}#code-input{position:absolute;top:20px;right:20px;padding:10px;font-size:16px;border-radius:5px;border:1px solid #ccc}#code-submit{position:absolute;top:60px;right:20px;padding:10px 20px;font-size:16px;background-color:#4CAF50;color:white;border:none;border-radius:5px;cursor:pointer}</style></head><body><div id="health-bar"><div id="health"></div></div><button id="start-button">Start</button><div id="level-display">Level: 1</div><div id="gold-display">Gold: 0</div><div id="upgrade-buttons"><button id="upgrade-speed" onclick="buySpeedUpgrade()">Upgrade Speed (5 Gold)</button><button id="upgrade-gold" onclick="buyGoldUpgrade()">Increase Gold/Level (10 Gold)</button><button id="upgrade-attack" onclick="buyAttackUpgrade()">Increase Attack Strength (15 Gold)</button></div><input type="text" id="code-input" placeholder="Enter Code"><button id="code-submit" onclick="submitCode()">Submit Code</button><script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/0.146.0/three.min.js"></script><script>const scene=new THREE.Scene();const camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,0.1,1000);const renderer=new THREE.WebGLRenderer();renderer.setSize(window.innerWidth,window.innerHeight);document.body.appendChild(renderer.domElement);const mapSize=10;const groundGeometry=new THREE.PlaneGeometry(mapSize,mapSize);const groundMaterial=new THREE.MeshBasicMaterial({color:0x00ff00,side:THREE.DoubleSide});const ground=new THREE.Mesh(groundGeometry,groundMaterial);ground.rotation.x=Math.PI/2;scene.add(ground);const pathWidth=0.5;const pathPoints=[new THREE.Vector3(-mapSize/2,0.1,mapSize/2),new THREE.Vector3(0,0.1,mapSize/2),new THREE.Vector3(0,0.1,0),new THREE.Vector3(mapSize/2,0.1,0),new THREE.Vector3(mapSize/2,0.1,-mapSize/2)];const pathGeometry=new THREE.BufferGeometry().setFromPoints(pathPoints);const pathMaterial=new THREE.LineBasicMaterial({color:0x8B4513});const path=new THREE.Line(pathGeometry,pathMaterial);scene.add(path);scene.background=new THREE.Color(0x87ceeb);const initialCameraHeight=0.5;camera.position.set(0,initialCameraHeight,0);camera.lookAt(0,initialCameraHeight,-1);const moveSpeed=0.1;const keys={w:false,a:false,s:false,d:false};window.addEventListener('keydown',(e)=>{if(e.key==='w')keys.w=true;if(e.key==='a')keys.a=true;if(e.key==='s')keys.s=true;if(e.key==='d')keys.d=true});window.addEventListener('keyup',(e)=>{if(e.key==='w')keys.w=false;if(e.key==='a')keys.a=false;if(e.key==='s')keys.s=false;if(e.key==='d')keys.d=false});let isMouseDown=false,yaw=0,pitch=0,sensitivity=0.002;document.addEventListener('mousedown',()=>{isMouseDown=true});document.addEventListener('mouseup',()=>{isMouseDown=false});document.addEventListener('mousemove',(e)=>{if(isMouseDown){yaw-=e.movementX*sensitivity;pitch-=e.movementY*sensitivity;pitch=Math.max(-Math.PI/2,Math.min(Math.PI/2,pitch));camera.quaternion.setFromEuler(new THREE.Euler(pitch,yaw,0,'YXZ'))}});const enemies=[];let baseEnemySpeed=0.02;const enemyGeometry=new THREE.SphereGeometry(0.1,16,16);const enemyMaterial=new THREE.MeshBasicMaterial({color:0xff0000});let health=100;const healthBar=document.getElementById('health');let level=1;const levelDisplay=document.getElementById('level-display');let gold=0;const goldDisplay=document.getElementById('gold-display');const startButton=document.getElementById('start-button');startButton.addEventListener('click',()=>{spawnEnemy()});let goldPerLevel=1;let attackStrength=1;function spawnEnemy(){const enemy=new THREE.Mesh(enemyGeometry,enemyMaterial);enemy.position.copy(pathPoints[0]);scene.add(enemy);enemies.push({mesh:enemy,pathIndex:0})}function updateHealthBar(){healthBar.style.width=`${health}%`}function nextLevel(){level++;levelDisplay.textContent=`Level: ${level}`;health=100;updateHealthBar();baseEnemySpeed+=0.01;enemies.forEach(enemy=>scene.remove(enemy.mesh));enemies.length=0;spawnEnemy();gold+=goldPerLevel;goldDisplay.textContent=`Gold: ${gold}`}function buySpeedUpgrade(){if(gold>=5){gold-=5;baseEnemySpeed*=1.1;goldDisplay.textContent=`Gold: ${gold}`}}function buyGoldUpgrade(){if(gold>=10){gold-=10;goldPerLevel+=1;goldDisplay.textContent=`Gold: ${gold}`}}function buyAttackUpgrade(){if(gold>=15){gold-=15;attackStrength*=1.25;goldDisplay.textContent=`Gold: ${gold}`}}function submitCode(){const codeInput=document.getElementById('code-input').value;if(codeInput==="SIMOISGOAT"){gold+=1000;goldDisplay.textContent=`Gold: ${gold}`;alert("Code accepted! You received 1000 gold.")}else{alert("Invalid code. Try again.")}}function animate(){requestAnimationFrame(animate);for(let i=enemies.length-1;i>=0;i--){const enemy=enemies[i];const nextPoint=pathPoints[enemy.pathIndex+1];if(nextPoint){const direction=new THREE.Vector3().subVectors(nextPoint,enemy.mesh.position).normalize();enemy.mesh.position.addScaledVector(direction,baseEnemySpeed);if(enemy.mesh.position.distanceTo(nextPoint)<baseEnemySpeed)enemy.pathIndex++}else{scene.remove(enemy.mesh);enemies.splice(i,1);const damage=10/Math.pow(1.25,level-1)*attackStrength;health-=Math.round(damage);updateHealthBar();if(health<=0){alert(`Next Level: ${level+1}`);nextLevel()}}}if(keys.w)camera.translateZ(-moveSpeed);if(keys.s)camera.translateZ(moveSpeed);if(keys.a)camera.translateX(-moveSpeed);if(keys.d)camera.translateX(moveSpeed);renderer.render(scene,camera)}animate();window.addEventListener('resize',()=>{camera.aspect=window.innerWidth/window.innerHeight;camera.updateProjectionMatrix();renderer.setSize(window.innerWidth,window.innerHeight)})</script></body></html>
